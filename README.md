# Patient Dashboard ‚Äì GLP-1 Based Weight-Loss Solutions

## üöÄ Project Overview

**GLP-1** stands for *Glucagon-Like Peptide-1*. This project is a backend for a patient dashboard for Acme Corp, a fast-growing company focused on helping people lose weight using GLP-1 based medications (like Ozempic, Wegovy, etc.). The dashboard provides:
- Secure user authentication
- Weight-loss progress tracking
- Medication and shipment tracking
- Personalized health tips and support

Patients receive ongoing help and guidance, including nutrition advice, exercise plans, and motivational support.

---

## üóÇÔ∏è Data Model & API Overview

### ‚úÖ Summary Table

| Feature                        | Purpose                                 | Example Component         |
|-------------------------------|-----------------------------------------|--------------------------|
| Secure User Authentication    | Protect patient data                    | Login/Register Page      |
| Dashboard Overview            | Show quick health & shipment summary    | Summary cards            |
| Weight Loss Progress          | Help users visualize their journey      | Graph, BMI indicator     |
| Medication & Shipment Tracking| Keep users informed on meds & shipments | Medication/Order tables  |

---

### üîπ 1. User Collection (Authentication Info)

#### User Authentication APIs

| API Route           | Method | Protected | Purpose                                 |
|---------------------|--------|-----------|-----------------------------------------|
| `/api/auth/register`| POST   | ‚ùå No     | Register a new user                     |
| `/api/auth/login`   | POST   | ‚ùå No     | Authenticate user and return token      |
| `/api/auth/logout`  | POST   | ‚úÖ Yes    | Clear user session                      |
| `/api/auth/me`      | GET    | ‚úÖ Yes    | Get current user's info                 |
| `/api/auth/delete`  | DELETE | ‚úÖ Yes    | Delete account                          |

| Field      | Type      | Required | Description                  |
|------------|-----------|----------|------------------------------|
| _id        | ObjectId  | Yes      | Auto-generated by MongoDB    |
| email      | String    | Yes      | Unique email for login       |
| password   | String    | Yes      | Hashed password              |
| createdAt  | Date      | No       | Account creation timestamp   |

---

### üîπ 2. Profile Collection (Personal & Health Info)

| API Route         | Method | Purpose                                 |
|-------------------|--------|-----------------------------------------|
| `/api/profile`    | POST   | Create a profile after signup           |
| `/api/profile`    | GET    | Fetch the logged-in user's profile      |
| `/api/profile`    | PUT    | Update profile info (name, goal, etc.)  |

| Field      | Type      | Required | Description                  |
|------------|-----------|----------|------------------------------|
| _id        | ObjectId  | Yes      | Auto-generated by MongoDB    |
| userId     | ObjectId  | Yes      | Reference to User._id        |
| name       | String    | Yes      | Patient's full name          |
| age        | Number    | No       | Patient's age                |
| gender     | String    | No       | Male, Female, Other          |
| goalWeight | Number    | Yes      | Weight-loss goal             |
| updatedAt  | Date      | No       | Last updated timestamp       |

---

### üîπ 3. Weight Progress Module

#### Weight Progress APIs

| API Route                | Method | Protected | Purpose                                 |
|--------------------------|--------|-----------|-----------------------------------------|
| `/api/weight`            | POST   | ‚úÖ Yes    | Add a new weight entry                  |
| `/api/weight`            | GET    | ‚úÖ Yes    | Get all weight entries for user         |
| `/api/weight/latest`     | GET    | ‚úÖ Yes    | Get the latest weight entry             |
| `/api/weight/:entryId`   | GET    | ‚úÖ Yes    | Get a single entry by ID                |
| `/api/weight/:entryId`   | PUT    | ‚úÖ Yes    | Update a specific weight entry          |
| `/api/weight/:entryId`   | DELETE | ‚úÖ Yes    | Delete a specific weight entry          |

#### Bonus: Optional Analytics APIs

| API Route                | Method | Purpose                                 |
|--------------------------|--------|-----------------------------------------|
| `/api/weight/summary`    | GET    | Return progress summary                 |
| `/api/weight/monthly-avg`| GET    | Return monthly averages for graphing    |

#### WeightEntry Model

| Field   | Type      | Required | Description                  |
|---------|-----------|----------|------------------------------|
| _id     | ObjectId  | Yes      | Auto-generated by MongoDB    |
| userId  | ObjectId  | Yes      | Reference to User._id        |
| weight  | Number    | Yes      | Weight value                 |
| BMI     | Number    | No       | Optional BMI                 |
| date    | Date      | Yes      | Entry date                   |

---

### üîπ 4. Medication Model

#### Medication API Routes

| API Route                    | Method | Protected | Purpose                                 |
|------------------------------|--------|-----------|-----------------------------------------|
| `/api/medications`           | POST   | ‚úÖ Yes    | Add a new medication entry              |
| `/api/medications`           | GET    | ‚úÖ Yes    | Get all medications for user            |
| `/api/medications/active`    | GET    | ‚úÖ Yes    | Get currently active medication         |
| `/api/medications/:id`       | GET    | ‚úÖ Yes    | Get a specific medication by ID         |
| `/api/medications/:id`       | PUT    | ‚úÖ Yes    | Update medication info                  |
| `/api/medications/:id`       | DELETE | ‚úÖ Yes    | Delete a medication entry               |

| Field      | Type      | Required | Description                  |
|------------|-----------|----------|------------------------------|
| _id        | ObjectId  | Yes      | Auto-generated by MongoDB    |
| userId     | ObjectId  | Yes      | Reference to User._id        |
| name       | String    | Yes      | Medication name              |
| dosage     | String    | Yes      | Dosage detail                |
| startDate  | Date      | Yes      | Start date                   |
| endDate    | Date      | No       | End date (if any)            |
| notes      | String    | No       | Optional notes               |
| createdAt  | Date      | No       | Creation timestamp           |

---

### üîπ 5. Order (Shipment) Model

#### Orders API Routes

| API Route                    | Method | Protected | Purpose                                 |
|------------------------------|--------|-----------|-----------------------------------------|
| `/api/orders`                | POST   | ‚úÖ Yes    | Create new order (admin/doctor only)    |
| `/api/orders`                | GET    | ‚úÖ Yes    | Get all orders for patient              |
| `/api/orders/upcoming`       | GET    | ‚úÖ Yes    | Get next upcoming order                 |
| `/api/orders/:id`            | GET    | ‚úÖ Yes    | Get a specific order by ID              |
| `/api/orders/:id`            | PUT    | ‚úÖ Yes    | Update status, tracking, ship date      |
| `/api/orders/:id`            | DELETE | ‚úÖ Yes    | Delete an order                        |

| Field           | Type      | Required | Description                  |
|-----------------|-----------|----------|------------------------------|
| _id             | ObjectId  | Yes      | Auto-generated by MongoDB    |
| userId          | ObjectId  | Yes      | Reference to User._id        |
| medicationId    | ObjectId  | Yes      | Reference to Medication._id  |
| status          | String    | Yes      | "pending", "shipped", "delivered" |
| trackingNumber  | String    | No       | Courier tracking number      |
| expectedDate    | Date      | Yes      | Estimated delivery date      |
| shippedDate     | Date      | No       | Date shipped                 |
| createdAt       | Date      | No       | Creation timestamp           |

---

## üóÉÔ∏è MongoDB Schema Relationships

- **users**: Authentication details
- **profiles**: 1:1 with users (personal info)
- **weightentries**: 1:N with users (weight records)
- **medications**: 1:N with users (medication records)
- **orders**: 1:N with users, references medications

---

## üèÅ Getting Started

### 1. Clone the repository
```bash
git clone https://github.com/ashukr321/patient-dashboard-backend.git
cd patient-dashboard-backend
```

### 2. Install dependencies
```bash
npm install
```

### 3. Set up environment variables
- Copy `.env.example` to `.env` and fill in your MongoDB URI and other secrets.

### 4. Start the development server
```bash
npm run dev
```

---

## üõ†Ô∏è Tech Stack

- **Node.js** ‚Äì JavaScript runtime
- **Express.js** ‚Äì REST API framework
- **MongoDB** ‚Äì NoSQL database
- **Mongoose** ‚Äì ODM for MongoDB
- **JWT** ‚Äì Authentication
- **bcryptjs** ‚Äì Password hashing
- **dotenv** ‚Äì Environment variables
- **helmet** ‚Äì Security headers

---

## üë§ Author

- **Ashutosh Kumar**
- GitHub: [ashukr321](https://github.com/ashukr321)
- LinkedIn: [LinkedIn](https://www.linkedin.com/in/ashukr321/)
- Portfolio: [Portfolio](https://www.devashu.tech/)

---

> Made with ‚ù§Ô∏è for the GLP-1 Patient Dashboard Project.
